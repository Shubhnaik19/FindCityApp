{"ast":null,"code":"var _jsxFileName = \"/home/shubh/Videos/projectCity/projectFindCity/web/project_city/src/components/searchCityForm.js\";\nimport { Component } from 'react';\nimport axios from 'axios';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass searchCityForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      cities: [],\n      initialLetter: '',\n      submit: false,\n      alert: '',\n      loader: false\n    };\n\n    this.onClear = () => {\n      this.setState({\n        initialLetter: '',\n        cities: []\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n\n      if (this.state.initialLetter === '') {\n        this.setState({\n          alert: 'Enter some letter to Search city'\n        });\n      } else {\n        this.searchCities(this.state.initialLetter);\n      }\n\n      console.log(this.state.initialLetter);\n    };\n\n    this.onChange = async e => {\n      this.setState({\n        initialLetter: e.target.value,\n        loader: true\n      });\n\n      if (e.target.value !== '') {\n        const res = await axios.get(`http://localhost:8080/city?letter=${e.target.value}`);\n\n        if (res.data.cod === \"200\") {\n          this.setState({\n            cities: res.data.list,\n            loader: false\n          });\n        } else {\n          this.setState({\n            alert: res.data.message,\n            loader: false\n          });\n        }\n      }\n    };\n\n    this.searchCities = async () => {\n      this.setState({\n        loader: true\n      });\n      const res = await axios.get(`http://localhost:8080/city?letter=${this.state.initialLetter}`);\n\n      if (res.data.cod === \"200\") {\n        this.setState({\n          cities: res.data.list,\n          loader: false\n        });\n      } else {\n        this.setState({\n          alert: res.data.message,\n          loader: false\n        });\n      }\n\n      console.log(res.data);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchComponent\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        onSubmit: this.onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"text\",\n          value: this.state.initialLetter,\n          onChange: this.onChange,\n          placeholder: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          name: \"submit\",\n          className: \"btn btn-dark btn-block\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), this.state.initialLetter !== '' && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          name: \"clear\",\n          onClick: this.onClear,\n          value: \"Clear\",\n          className: \"btn btn-dark btn-block\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), this.state.loader && this.state.initialLetter !== '' && /*#__PURE__*/_jsxDEV(Loader, {\n        type: \"Puff\",\n        color: \"#00BFFF\",\n        height: 100,\n        width: 100\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 78\n      }, this), !this.state.loader && this.state.initialLetter !== '' && this.state.cities !== [] && this.state.cities !== null && /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Number of cities starting with \", this.state.initialLetter, \" is \", this.state.cities.length, this.state.cities.map(city => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: city.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 38\n        }, this)), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }, this), this.state.initialLetter === '' && this.state.alert && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"AlertBox\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: this.state.alert\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 85\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 59\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default searchCityForm;","map":{"version":3,"sources":["/home/shubh/Videos/projectCity/projectFindCity/web/project_city/src/components/searchCityForm.js"],"names":["Component","axios","Loader","searchCityForm","state","cities","initialLetter","submit","alert","loader","onClear","setState","onSubmit","e","preventDefault","searchCities","console","log","onChange","target","value","res","get","data","cod","list","message","render","length","map","city","name"],"mappings":"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","sourcesContent":["import { Component } from 'react';\nimport axios from 'axios'\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\n\nclass searchCityForm extends Component {\n    state = { cities: [],\n        initialLetter:'',\n        submit: false,\n        alert: '',\n        loader: false}\n\n        onClear = () => {\n            this.setState({initialLetter:'',cities:[]})\n          }    \n\n    onSubmit = (e) =>{\n        e.preventDefault();\n           if(this.state.initialLetter === ''){\n              this.setState({alert: 'Enter some letter to Search city'});\n           } else {\n           this.searchCities(this.state.initialLetter);\n           }console.log(this.state.initialLetter) \n      }\n      onChange = async (e) =>{\n        this.setState({initialLetter:e.target.value, loader: true})\n        if(e.target.value!== ''){\n        const res = await axios.get(\n          `http://localhost:8080/city?letter=${e.target.value}`\n        );\n        if(res.data.cod === \"200\"){\n            this.setState({\n              cities: res.data.list,loader: false\n            });\n        } else {\n            this.setState({alert:res.data.message, loader:false})\n        }\n      }\n      }\n      searchCities = async () => {\n        this.setState({loader: true})\n        const res = await axios.get(\n          `http://localhost:8080/city?letter=${this.state.initialLetter}`\n        );\n        if(res.data.cod === \"200\"){\n        this.setState({\n          cities: res.data.list,loader: false\n        });\n    } else {\n        this.setState({alert:res.data.message, loader:false})\n    }\n        console.log(res.data);\n      };\n    render() {\n        return (\n            <div className=\"searchComponent\">\n                <form className='form' onSubmit={this.onSubmit}>\n                    <input type='text' name='text' value={this.state.initialLetter} onChange={this.onChange} placeholder='Search'/>\n                    <input type='submit' name='submit' className='btn btn-dark btn-block' />\n                    {this.state.initialLetter !== '' &&\n                    <input type='button' name='clear' onClick={this.onClear} value='Clear' className='btn btn-dark btn-block' />\n    }\n                </form>{\n                    this.state.loader && this.state.initialLetter !== '' &&  <Loader\n                    type=\"Puff\"\n                    color=\"#00BFFF\"\n                    height={100}\n                    width={100}\n                  />\n                }\n               {!this.state.loader && this.state.initialLetter !== '' && this.state.cities !== [] && this.state.cities !== null &&\n      <h1>Number of cities starting with {this.state.initialLetter} is {this.state.cities.length}\n      {this.state.cities.map(city => <div>{city.name}</div>)} </h1> \n  }\n  {this.state.initialLetter === '' && this.state.alert && <div className=\"AlertBox\"><h1>{this.state.alert}</h1></div>}\n            </div>\n            \n        );\n    }\n}\n\nexport default searchCityForm;"]},"metadata":{},"sourceType":"module"}